var version=function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;let e={tag:{type:[String],default:"div"},cols:{type:[Object,Number,String],default:2},gap:{type:[Object,Number,String],default:0},css:{type:[Boolean],default:!0},hasImgs:{type:Boolean,default:!1}},i=(t,e)=>{if(parseInt(t)>1)return t;if("object"!=typeof t)return 0;let i=1/0,s=t.init||0;for(let l in t){let r=parseInt(l),a=t[r],n=parseInt(a);isNaN(r)||isNaN(n)||e<=r&&r<i&&(i=r,s=a)}return s},s={props:e,data:()=>({displayColumns:2,displayGutter:0}),mounted(){this.$nextTick(()=>{this._buildGrid()}),window&&window.addEventListener("resize",this._reCalculate)},updated(){this.$nextTick(()=>{this._buildGrid(),this.hasImgs&&this._waitForImages()})},beforeDestroy(){window&&window.removeEventListener("resize",this._reCalculate)},methods:{getChildItemsInColumnsArray(){return(this.$slots.default||[]).filter(t=>t.tag)},_resizeMasonryItem(t){let e=this.displayGutter,i=t.elm.scrollHeight,s=t.children[0].elm.scrollHeight,l=i>=s?i:s,r=Math.ceil((l+e)/(0+e));t.elm.style.gridRowEnd="span "+r},_resizeAllMasonryItems(){let t=this.getChildItemsInColumnsArray();for(let e=0;e<t.length;e++)this._resizeMasonryItem(t[e])},_reCalculate(){let t=this.windowWidth,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;this.windowWidth=(window?e:null)||1/0,t!==this.windowWidth&&this._buildGrid()},_buildGrid(){this._reCalculateColumnCount(this.windowWidth),this._reCalculateGutterSize(this.windowWidth),this._resizeAllMasonryItems()},_waitForImages(){t(this.$el).on("always",t=>{this._resizeAllMasonryItems()})},_reCalculateColumnCount(t){let e=i(this.cols,t);e=Math.max(1,Number(e)||0),this.displayColumns=e},_reCalculateGutterSize(t){this.displayGutter=i(this.gap,t)}},render(t){let e=parseInt(this.displayGutter)===1*this.displayGutter?this.displayGutter+"px":this.displayGutter,i={display:["grid","-ms-grid"],gridTemplateColumns:`repeat(auto-fill, minmax(${(100/this.displayColumns*10-this.displayGutter)/10}%, 1fr))`,gridAutoRows:0,gridGap:e};return t(this.tag,this.css?{style:i}:null,this.$slots.default)}};const l={name:"TrueMasonry"},r={install(t,e){let i={...l,...e};t.VERSION="v2.0.3",t.component(i.name,s)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),r}(ImageLoaded);
